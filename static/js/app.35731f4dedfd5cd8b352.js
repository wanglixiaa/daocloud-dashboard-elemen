webpackJsonp([18],{"+XDh":function(e,t){},"0Nb7":function(e,t){e.exports=[{name:"DevOps",id:"devOps",sub:[{name:"项目",componentName:"BuildFlowsList",path:"BuildFlowsList/buildFlows",children:[{name:"buildFlows",componentName:"buildFlows"},{name:"查看详情",componentName:"ViewDetails"}]}]},{name:"交付中心",id:"deliveryCenter",sub:[{name:"镜像仓库",componentName:"MirrorWarehouse",path:"MirrorWarehouse"},{name:"收藏夹",componentName:"Favorites",path:"Favorites"},{name:"发现镜像",componentName:"DiscoverMirror",path:"DiscoverMirror"}]},{name:"应用平台",id:"applicationPlatform",sub:[{name:"集群管理",componentName:"ClusterManagement",path:"ClusterManagement"},{name:"应用",componentName:"Application",path:"Application"},{name:"Stack",componentName:"Stack",path:"Stack"}]},{name:"设置",id:"settings",sub:[{name:"用户中心",componentName:"UserCenter",path:"UserCenter"}]}]},"2AE9":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"logo"}},[t("img",{attrs:{src:this.logoUrl,alt:"Logo"}})])},staticRenderFns:[]};var a=s("VU/8")({data:function(){return{logoUrl:"https://dashboard.daocloud.io/assets/images/logo_dcs.svg"}}},n,!1,function(e){s("+XDh")},"data-v-59f5b540",null);t.default=a.exports},"2w7R":function(e,t){},"4IEm":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("0Nb7"),a=s.n(n),o={data:function(){return{menu:a.a}},watch:{namespace:function(e,t){this.menu=e}},created:function(){},props:["namespace"],methods:{handleOpen:function(e,t){},handleClose:function(e,t){}}},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-row",{staticClass:"tac"},[s("el-col",{attrs:{span:24}},[s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"devOps","unique-opened":"",router:"","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{open:e.handleOpen,close:e.handleClose}},e._l(e.menu,function(t){return s("el-submenu",{key:t.id,attrs:{index:t.id}},[s("template",{slot:"title"},[s("span",{domProps:{textContent:e._s(t.name)}})]),e._v(" "),e._l(t.sub,function(t){return s("el-menu-item-group",{key:t.componentName},[s("el-menu-item",{attrs:{index:"/"+t.path},domProps:{textContent:e._s(t.name)}},[e._v("选项1")])],1)})],2)}))],1)],1)},staticRenderFns:[]},i=s("VU/8")(o,r,!1,null,null,null);t.default=i.exports},"9Pzv":function(e,t){},E4d3:function(e,t,s){var n={"./AccountInformation":["Zw1m",2],"./AccountInformation.vue":["Zw1m",2],"./Application":["za5l",16],"./Application.vue":["za5l",16],"./BuildFlowsList":["0uhm",15],"./BuildFlowsList.vue":["0uhm",15],"./ClusterManagement":["HdP2",11],"./ClusterManagement.vue":["HdP2",11],"./CodeManage":["yIBD",6],"./CodeManage.vue":["yIBD",6],"./Content":["x1is"],"./Content.vue":["x1is"],"./DiscoverMirror":["3cm3",7],"./DiscoverMirror.vue":["3cm3",7],"./Email":["6Aj3",3],"./Email.vue":["6Aj3",3],"./ExecutionRecord":["dhXI",5],"./ExecutionRecord.vue":["dhXI",5],"./Favorites":["aMNo",14],"./Favorites.vue":["aMNo",14],"./Header":["teIl"],"./Header.vue":["teIl"],"./Login":["xJsL"],"./Login.vue":["xJsL"],"./Logo":["2AE9"],"./Logo.vue":["2AE9"],"./MirrorWarehouse":["5EO1",10],"./MirrorWarehouse.vue":["5EO1",10],"./NavMenu":["4IEm"],"./NavMenu.vue":["4IEm"],"./ProcessDefinition":["+s2T",9],"./ProcessDefinition.vue":["+s2T",9],"./Setting":["cbWt",13],"./Setting.vue":["cbWt",13],"./Sidebar":["lZ5c"],"./Sidebar.vue":["lZ5c"],"./Stack":["LoQm",12],"./Stack.vue":["LoQm",12],"./TransactionRecord":["730g",4],"./TransactionRecord.vue":["730g",4],"./UserCenter":["JIPk",0],"./UserCenter.vue":["JIPk",0],"./ViewDetails":["siw+",1],"./ViewDetails.vue":["siw+",1],"./buildFlows":["zyYG"],"./buildFlows.vue":["zyYG"],"./personalInformation":["Qsk8",8],"./personalInformation.vue":["Qsk8",8],"./signin":["bjy0"],"./signin.vue":["bjy0"]};function a(e){var t=n[e];return t?Promise.all(t.slice(1).map(s.e)).then(function(){return s(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}a.keys=function(){return Object.keys(n)},a.id="E4d3",e.exports=a},F7gO:function(e,t){},JuqC:function(e,t){},"M9+J":function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("7+uW"),a=s("zL8q"),o=s.n(a),r=(s("tvR6"),s("mtWM")),i=s.n(r),c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var l=s("VU/8")({name:"App",components:""},c,!1,function(e){s("Y3ij")},null,null).exports,u=s("/ocq"),d=s("xJsL"),p=s("x1is"),m=s("0Nb7"),h=s.n(m);n.default.use(u.a);var f=[];h.a.forEach(function(e){e.sub.forEach(function(e){var t=[];e.children&&e.children.forEach(function(n){t.push({path:"/"+e.componentName+"/"+n.componentName,name:n.name,component:function(){return s("E4d3")("./"+n.componentName)}})}),f.push({path:"/"+e.componentName,name:e.componentName,component:function(){return s("E4d3")("./"+e.componentName)},children:t})})}),console.log(f);var v=new u.a({routes:[{path:"/login",name:"login",component:d.default},{path:"/content",name:"内容",component:p.default,children:f}]}),g=s("NYxO"),j=s("eySR"),_=s.n(j);n.default.use(g.a);var b=new g.a.Store({state:{menu:h.a},mutations:{change:function(e){e.menu===_.a?e.menu=h.a:e.menu=_.a}}}),w=s("ppUw"),k=s.n(w),y=s("PJh5"),C=s.n(y),x=s("C/JF"),z=s("fhbW"),N=s("U0v6");n.default.config.productionTip=!1,n.default.use(o.a),n.default.use(k.a),n.default.prototype.axios=i.a,n.default.prototype.$moment=C.a,x.library.add(z.a),n.default.component("font-awesome-icon",N.FontAwesomeIcon),n.default.directive("focus",{inserted:function(e){e.focus()}}),v.beforeEach(function(e,t,s){n.default.prototype.$cookies.get("token")||"/login"===e.path?0===e.matched.length?s({path:"/BuildFlowsList"}):s():s({path:"/login"})}),new n.default({el:"#app",template:"<App/>",router:v,store:b,components:{App:l}})},PZjh:function(e,t){},Y3ij:function(e,t){},bjy0:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("mvHQ"),a=s.n(n),o={data:function(){return{email:"",password:"",captcha:"",captchaId:"",tips:""}},created:function(){this.captchaText()},methods:{signinJudge:function(){this.email&&this.password&&this.captcha?this.signin():this.email?this.password?this.captcha||this.$refs.captcha.focus():this.$refs.password.focus():this.$refs.email.focus()},enter:function(){"email"===event.target.id?this.$refs.password.focus():"password"===event.target.id?this.$refs.captcha.focus():"captcha"===event.target.id&&this.$refs.signin.click()},signin:function(){var e=this;this.axios.post("https://api.daocloud.io/access-token",{captcha_id:this.captchaId,captcha_solution:this.captcha,email_or_mobile:this.email,password:this.password}).then(function(t){var s={access_token:t.access_token,expires_in:t.expires_in,uid:t.uid};e.$cookies.set("token",t.data.access_token),console.log(e.$cookies.get("token")),sessionStorage.setItem("user",a()(s)),e.$router.push({path:"/BuildFlowsList/buildFlows"})}).catch(function(t){console.log(t),console.log(t.response.data.error_id),"login.password_not_match"===t.response.data.error_id?(e.$refs.password.focus(),e.tips="密码错误",e.captchaText()):"check_captcha_fail"===t.response.data.error_id?(e.$refs.password.focus(),e.tips="验证码错误",e.password="",e.captcha="",e.captchaText()):"login.user_not_found"===t.response.data.error_id&&(e.$refs.email.focus(),e.tips="用户名错误",e.captchaText())})},captchaText:function(){var e=this;this.axios.get("https://api.daocloud.io/captcha/generate-id").then(function(t){e.captchaId=t.data.captcha_id})}}},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"account-container"},[s("h2",[e._v("登陆 DaoCloud 账号")]),e._v(" "),s("hr",{staticClass:"header-line"}),e._v(" "),s("div",{staticClass:"tips"},[e._v(e._s(e.tips))]),e._v(" "),s("form",{attrs:{action:""}},[s("div",{staticClass:"form-group"},[s("label",[e._v("邮箱/用户名")]),e._v(" "),s("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.email,expression:"email"}],ref:"email",attrs:{name:"username",type:"text",id:"email"},domProps:{value:e.email},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.enter()},input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"form-group"},[e._m(0),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],ref:"password",attrs:{name:"password",type:"password",id:"password"},domProps:{value:e.password},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.enter()},input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",[e._v("验证码")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.captcha,expression:"captcha"}],ref:"captcha",staticClass:"has-captcha",attrs:{type:"text",id:"captcha"},domProps:{value:e.captcha},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.enter()},input:function(t){t.target.composing||(e.captcha=t.target.value)}}}),e._v(" "),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"看不清？点击更换",placement:"top"}},[s("img",{staticClass:"captcha",attrs:{src:"https://api.daocloud.io/captcha/image?captcha_id="+e.captchaId,alt:"验证码"},on:{click:e.captchaText}})])],1)]),e._v(" "),s("button",{ref:"signin",staticClass:"signin",on:{click:function(t){e.signinJudge()}}},[e._v("登陆")])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("label",[this._v("密码"),t("a",{staticClass:"pull-right",attrs:{href:"https://account.daocloud.io/forget-password"}},[this._v("忘记密码?")])])}]};var i=s("VU/8")(o,r,!1,function(e){s("F7gO"),s("PZjh")},"data-v-6ad94b6f",null);t.default=i.exports},eySR:function(e,t){e.exports=[{name:"DevOps",id:"devOps",sub:[{name:"项目",componentName:"Project"}]},{name:"交付中心",id:"deliveryCenter",sub:[{name:"镜像仓库",componentName:"MirrorWarehouse"},{name:"收藏夹",componentName:"Favorites"},{name:"发现镜像",componentName:"DiscoverMirror"}]},{name:"应用平台",id:"applicationPlatform",sub:[{name:"集群管理",componentName:"ClusterManagement"},{name:"应用",componentName:"Application"},{name:"Stack",componentName:"Stack"}]},{name:"设置",id:"settings",sub:[{name:"组织中心",componentName:"UserCenter"}]}]},hpBR:function(e,t){},lZ5c:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("2AE9"),a=s("4IEm"),o={props:["namespace"],components:{logo:n.default,navmenu:a.default},methods:{kk:function(){console.log("ff"),this.$router.push("/ddd")}}},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"sidebar"}},[s("logo"),e._v(" "),s("navmenu",{attrs:{namespace:e.namespace}}),e._v(" "),s("div",{on:{click:function(t){e.kk()}}},[e._v("uu")])],1)},staticRenderFns:[]};var i=s("VU/8")(o,r,!1,function(e){s("hpBR")},"data-v-3225df34",null);t.default=i.exports},teIl:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("0Nb7"),a=s.n(n),o=s("eySR"),r=s.n(o),i={data:function(){return{user:"",userType:"个人",userCenter:"用户中心",imgSrc:"https://cdn-daoweb-prod.daocloud.io/static/noavatar01.png"}},created:function(){var e=this;this.axios.get("https://api.daocloud.io/get-token-info",{headers:{Authorization:this.$cookies.get("token")}}).then(function(t){e.user=t.data.user.username}).catch(function(e){console.log(e)})},methods:{handleCommand:function(e){"signout"===e?this.$router.push({path:"/login"}):"personal"===e?"xuzhenglun"!==this.user&&(this.user="xuzhenglun",this.userType="个人",this.userCenter="用户中心",this.$emit("ChangeNs",a.a)):"cache"===e&&"cache"!==this.user&&(this.user="cache",this.userType="组织",this.userCenter="组织中心",this.$emit("ChangeNs",r.a))}}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header-bar"},[s("div",{staticClass:"header-namespace"},[s("div",[s("img",{staticClass:"userbar-avatar",attrs:{src:e.imgSrc,alt:"头像"}}),e._v(" "),s("div",{staticClass:"userbar-content"},[s("span",{staticClass:"ng-binding"},[e._v(e._s(e.user))]),e._v(" "),s("div",{staticClass:"ng-bingding"},[e._v(e._s(e.userType))])]),e._v(" "),s("div",[s("el-dropdown",{on:{command:e.handleCommand}},[s("span",{staticClass:"el-dropdown-link"},[s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"personal"}},[e._v("xuzhenglun")]),e._v(" "),s("el-dropdown-item",{attrs:{command:"cache"}},[e._v("cache")]),e._v(" "),s("el-dropdown-item",{attrs:{command:"userCenter"}},[e._v(e._s(e.userCenter))]),e._v(" "),s("el-dropdown-item",{attrs:{command:"signout"}},[e._v("登出")])],1)],1)],1)])]),e._v(" "),s("div",{staticClass:"notification"})])},staticRenderFns:[]};var l=s("VU/8")(i,c,!1,function(e){s("yU0m")},"data-v-adc8c93c",null);t.default=l.exports},tvR6:function(e,t){},uslO:function(e,t,s){var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function a(e){return s(o(e))}function o(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id="uslO"},x1is:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("lZ5c"),a=s("teIl"),o=s("zyYG"),r={data:function(){return{namespace:[]}},methods:{loadNamespace:function(e){this.namespace=e,console.log(e)}},components:{sidebar:n.default,vheader:a.default,buildFlows:o.default}},i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("el-container",[t("el-aside",{attrs:{width:"200px"}},[t("sidebar",{attrs:{namespace:this.namespace}})],1),this._v(" "),t("el-container",[t("el-header",[t("vheader",{on:{ChangeNs:this.loadNamespace}})],1),this._v(" "),t("el-main",[t("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var c=s("VU/8")(r,i,!1,function(e){s("9Pzv")},null,null);t.default=c.exports},xJsL:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{logoImg:"https://daoweb-resource.daocloud.io/logo/daocloud-logo-gray-account.svg"}},components:{signin:s("bjy0").default}},a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("div",{staticClass:"bg"}),this._v(" "),t("div",{staticClass:"logo"},[t("img",{attrs:{src:this.logoImg,alt:"daocloud"}})]),this._v(" "),t("div",[t("signin")],1)])},staticRenderFns:[]};var o=s("VU/8")(n,a,!1,function(e){s("M9+J")},"data-v-59333d92",null);t.default=o.exports},yU0m:function(e,t){},zyYG:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{search:"",tableData:[],dataCount:0,pagesize:2,offset:0}},created:function(){this.getProjectInfo()},watch:{search:function(e,t){this.getProjectInfo()}},methods:{getProjectInfo:function(){var e=this,t="?offset="+this.offset+"&search="+this.search+"&size="+this.pagesize;console.log(this.search),this.axios.get("https://api.daocloud.io/v1/ship/projects"+t,{headers:{Authorization:this.$cookies.get("token")}}).then(function(t){for(var s=t.data.projects,n=0;n<s.length;n++)e.tableData.push({name:s[n].project.name,updated:parseInt(((new Date).getTime()-1e3*s[n].project.updated_at)/1e3/60/60/24/30),repoUrl:s[n].project.repo_url,status:s[n].last_build?"Failure"===s[n].last_build.status?"执行失败":"Success"===s[n].last_build.status?(console.log("succ"),"执行成功"):void 0:"尚未构建"});e.dataCount=s.length})},colorStyle:function(e){return"执行成功"===e?"success":"执行失败"===e?"failure":void 0},enter:function(){alert("jhh"),this.getProjectInfo()},handlePageSizeChange:function(e){this.pagesize=e,this.offset=0,this.getProjectInfo()},handleCurrentPageChange:function(e){this.offset=this.pagesize*(e-1),this.getProjectInfo()},viewDetails:function(){this.$router.push({path:"/BuildFlowsList/ViewDetails"})}}},a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app"},[s("el-container",[s("el-header",{attrs:{height:"50"}},[s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:5}},[s("div",{staticClass:"grid-content bg-purple"},[s("el-row",[s("el-button",{attrs:{type:"primary"}},[e._v("创建新项目")])],1)],1)]),e._v(" "),s("el-col",{attrs:{span:3,offset:1}},[s("div",{staticClass:"grid-content bg-purple"},[e._v("\n            共"+e._s(e.dataCount)+"个项目\n          ")])]),e._v(" "),s("el-col",{attrs:{span:5,offset:10}},[s("div",{staticClass:"grid-content bg-purple"},[s("el-input",{attrs:{placeholder:"请输入内容","prefix-icon":"el-icon-search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)])],1)],1),e._v(" "),s("el-main",[s("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"项目名称",width:"120"}}),e._v(" "),s("el-table-column",{attrs:{prop:"updated",label:"最近更新",width:"120"}}),e._v(" "),s("el-table-column",{attrs:{prop:"repoUrl",label:"代码仓库","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("a",{attrs:{href:t.row.repoUrl}},[e._v(e._s(t.row.repoUrl))])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"status",label:"执行状态","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{class:e.colorStyle(t.row.status)},[e._v(e._s(t.row.status))])]}}])}),e._v(" "),s("el-table-column",{attrs:{"show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-dropdown",{attrs:{size:"medium","split-button":"",type:"primary"},on:{click:e.viewDetails}},[e._v("查看详情\n              "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",[e._v("手动触发")]),e._v(" "),s("el-dropdown-item",[e._v("删除")])],1)],1)]}}])})],1),e._v(" "),s("el-pagination",{attrs:{"current-page":parseInt(e.offset/e.pagesize)+1,"page-sizes":[2,4,6,8,10],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.dataCount},on:{"size-change":e.handlePageSizeChange,"current-change":e.handleCurrentPageChange}})],1)],1)],1)},staticRenderFns:[]};var o=s("VU/8")(n,a,!1,function(e){s("2w7R"),s("JuqC")},"data-v-252bc395",null);t.default=o.exports}},["NHnr"]);
//# sourceMappingURL=app.35731f4dedfd5cd8b352.js.map